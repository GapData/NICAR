"0","# Check and eliminate the rows that don't have location information "
"0","stops <- stops[!is.na(stops$InterventionLocationLatitude),]"
"0","stops <- subset(stops, InterventionLocationLatitude!=0)"
"0","# Bring in the shape files for census tracts"
"0","# map_shapes is the folder the shape files are in. layer is the name of the file."
"0","towntracts <- readOGR(dsn=""map_shapes"", layer=""hamden_census_tracts"")"
"1","OGR data source with driver:"
"1"," "
"1","ESRI Shapefile"
"1"," "
"1","
"
"1","Source: """
"1","map_shapes"
"1",""", layer: """
"1","hamden_census_tracts"
"1",""""
"1","
"
"1","with"
"1"," "
"1","829"
"1"," "
"1","features"
"1","
"
"1","It has"
"1"," "
"1","14"
"1"," "
"1","fields"
"1","
"
"1","Integer64 fields read as strings: "
"1"," "
"1","ALAND10 AWATER10"
"1"," "
"1","
"
"0","# creating a copy"
"0","towntracts_only <- towntracts"
"0","# turn the shapefile into a dataframe that can be worked on in R"
"0","towntracts <- fortify(towntracts, region=""GEOID10"")"
"0","# So now we have towntracts and towntracts_only"
"0","# What's the difference? towntracts is a dataframe and can be seen easily"
"0","gg <- ggplot()"
"0","gg <- gg + geom_polygon(data=towntracts, aes(x=long, y=lat, group=group, fill=NA), color = ""black"", fill=NA, size=0.5) "
"0","gg <- gg + geom_point(data=stops, aes(x=InterventionLocationLongitude, y=InterventionLocationLatitude, color=""red""))"
"0","gg <- gg +  coord_map()"
"0","gg <- gg + labs(x=NULL, y=NULL, "
"0","                  title=""Traffic stops in Hamden"","
"0","                  subtitle=NULL,"
"0","                  caption=""Source: data.ct.gov"")"
"0","  gg <- gg + theme(plot.title=element_text(face=""bold"", family=""Arial"", size=13))"
"0","  gg <- gg + theme(plot.caption=element_text(face=""bold"", family=""Arial"", size=7, color=""gray"", margin=margin(t=10, r=80)))"
"0","  gg <- gg + theme(legend.position=""none"")"
"0","  gg <- gg + theme(axis.line =  element_blank(),"
"0","                   axis.text =  element_blank(),"
"0","                   axis.ticks =  element_blank(),"
"0","                   panel.grid.major = element_blank(),"
"0","                   panel.grid.minor = element_blank(),"
"0","                   panel.border = element_blank(),"
"0","                   panel.background = element_blank()) "
"0","print(gg)"
