{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Reproducibility and R Markdown\"\nauthor: \"Andrew Tran\"\noutput:\n  html_document: \n    toc: true\n    toc_float: true\n---\n\n* Creating functions and packages [[link](creating_packages.html)]\n* Intro to R Markdown [[link](rmarkdown.html)]\n\n# Introduction to R Markdown\n\n### Markdown\n\nSuper simple way to add formating to plain text\n\n- headers\n- bold\n- bullet lists\n- links\n\nCreated by John Gruber (of Daring Fireball) as a simple way for non-programming types to write in an easy-to-read format that could be converted directly into HTML.\n\n<img src=\"images/markdown.png\">\n\n### R code\n\n```\nboston_payroll %>%\n  group_by(TITLE) %>%\n  summarise_each(funs(mean), REGULAR, OVERTIME)\n```\n\n### .Rmd files\n\n<div style=\"float:left; padding-right:20px\"><img src=\"images/rmdfiles.png\"></div>\nAn R Markdown (.Rmd) file is a record of your analysis process. \n\nIt contains the code that a scientist needs to reproduce your work along with the narration that a reader needs to understand your work.\n\n### Reproducible research\n\nThe idea that data analyses, and more generally, stories, are published with their data and software code so that others may verify the findings and build upon them.\n\n* Look for insight deeper than the summary report\n* Verify details yourself\n* Learn new techniques from looking at other processes\n* Figure out ways to apply the analysis to your own needs\n* Your future self will thank you for documenting your process now\n\n-----\n \n### Example\n\nThe Washington state Department of Health created a formula estimating lead risk based on poverty level and housing age in a neighborhood. \n\n<a href=\"https://fortress.wa.gov/doh/wtn/WTNIBL/\"><img src=\"images/washdoh.png\"></a>\n\nVox journalists converted the STATA script into Python and did their own analysis and visualizations.\n\n<a href=\"http://www.vox.com/a/lead-exposure-risk-map\"><img src=\"images/voxmap.png\"></a>\n\nThey put their analysis and methodology on Github.\n\n<a href=\"https://github.com/voxmedia/data-projects/tree/master/vox-lead-exposure-risk\"><img src=\"images/voxdoc.png\"></a>\n\nThanks to the clear documentation, I could replicate it myself in R.\n\n<a href=\"http://trendct.github.io/data/2016/03/lead-analysis/geospatial_lead_risk.html\"><img src=\"images/trendmap.png\"></a>\n\nI then took the formula and applied it to town-wide data so I could compare it to actual lead-test results in children across the state.\n\n<a href=\"http://trendct.org/2016/04/08/where-the-risk-for-lead-poisoning-in-connecticut-is-highest/\"><img src=\"images/leadscatter.png\"></a>\n\n### Reproducible research\n\n<div style=\"float:left; width:40%;padding-right:20px\"><img src=\"http://rmarkdown.rstudio.com/images/bandThree2.png\"></div> \nAt the click of a button, or the type of a command, you can rerun the code in an R Markdown file to reproduce your work and export the results as a finished report.\n\nR Markdown supports dozens of static and dynamic output formats including\n\n- HTML\n- PDF\n- MS Word\n- Beamer\n- HTML5 slides\n- Tufte-style handouts\n- books\n- dashboards\n- scientific articles (white pages)\n- websites\n\n---\n\n### 1. Open a new .Rmd file\n\nat **File > New File > R Markdown**. \n\n<div style=\"max-width:500px; margin-left:auto; margin-right:auto;\"><img src=\"images/menu.png\"></div>\n\nTitle the R Markdown file and select **HTML** as the output for now.\n\n<div style=\"max-width:400px; margin-left:auto; margin-right:auto;\"><img src=\"images/html.png\"></div>\n\n### .Rmd structure\n\n<div style=\"width:50%; margin-left:auto; margin-right:auto;\"><img src=\"images/layout2.png\"></div>\n\n**YAML HEADER**\n\nOptional section of render options written as **key:value** pairs.\n\n- At start of file\n- Between lines of **---** (3 dashes)\n\n**CODE CHUNKS**\n\nChunks of embedded R code. Each chunk:\n\n- begins with **```{r}** (the key to the left of 1)\n- ends with **```**\n\n**TEXT**\n\nNarration formatted with markdown mixed with code chunks.\n\n\n### 2. Write document\n\nEdit the default template by putting in your own code and text.\n\nIntersperse the text with your code to tell a story.\n\n### 2b. Label your chunks of code\n\nYou'll see why in a moment.\n\n<img src=\"images/labels.png\">\n\n### 2c. Notebooks style\n\nYou can run individual chunks of code before generating the full report to see how it looks.\n\nClick the green arrow next to each chunk.\n\n<img src=\"images/chunky.png\">\n\n\n### 3. Knit document to create report\n\nUse knit button or type **render()** to knit\n\n<div style=\"width:60%; margin-left:auto; margin-right:auto;\"><img src=\"images/knit_button.png\"></div>\n\n### 3b. Check out the build log\n\nDown in the console. Warnings and errors will appear.\n\nAlso measures progress by chunks, which is why it's important to label them.\n\n<img src=\"images/console.png\">\n\n### 4. Preview output in IDE window\n\n<img src=\"images/preview.png\">\n\n### 5. Output file\n\nYou have a .Rmd file and clicking knit HTML also generated a .html file\n\n<div style=\"width:50%; margin-left:auto; margin-right:auto;\"><img src=\"images/testpage.png\"></div>\n\n### Datatables\n\nYou need to load libraries just like you would a normal script.\n\nLet's look at the data in R Markdown with a new package called [`DT`](https://rstudio.github.io/DT/) that uses the Datatables [jquery library](https://datatables.net/).\n\nExample from **Part 1**\n\n# Specific features\n\n### Hide warnings, messages\n\nAdding `warning=F` and `message=F` hid the little messages.\n\nExample from **Part 2** in the `chunks.MD` file.\n\n### Hide code\n\nIf the person you're sharing this with has no interest in the code and only the quick results, use `echo=F` to hide the chunk of code and just display the output.\n\nExample from **Part 3** in the `chunks.MD` file.\n\n### Inline R code\n\nEmbed lines of R code within the narrative with\n\n<div style=\"width:50%; margin-left:auto; margin-right:auto;\"><img src=\"images/inline.png\"></div>\n\nExample from **Part 4** in the `chunks.MD` file.\n\n### Pretty tables\n\nMake pretty tables with the `knitr` package and the `kable` function.\n\nExample from **Part 5** in the `chunks.MD` file.\n\n### Change theme and style\n\nChange the appearance and style of the HTML document by changing the theme up top.\n\nOptions from the [Bootswatch](http://bootswatch.com/) theme library includes:\n\n- `default`\n- `cerulean`\n- `journal`\n- `cosmo`\n\nhighlights \n\n- `tango`\n- `pygments`\n- `kate`\n\nExample from **Part 6** in the `chunks.MD` file.\n\n### Table of contents\n\nAdd a floating table of contents by changing `html_document` to `toc: true` and `toc_float: true`.\n\nExample from **Part 7** in the `chunks.MD` file.\n\n### Next steps?\n\nExporting as a PDF will require LaTex installed first\n  * Get it from [latex-project.org](https://www.latex-project.org/get/) or [MacTex](http://www.tug.org/mactex/)\n\nCheck out [all the features](http://rmarkdown.rstudio.com/html_document_format.html#overview) of R Markdown at RStudio\n\n**Publish your results to Github pages**\n\nRead more [on how](http://www.stephaniehicks.com/githubPages_tutorial/pages/github-intro.html)\n\n**Try to publish directly to Wordpress**\n\nI haven't actually made this work but maybe you [can try](https://yihui.name/knitr/demo/wordpress/#comment-1102994305)\n",
    "created" : 1488458760512.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "674072699",
    "id" : "43B904DB",
    "lastKnownWriteTime" : 1488464290,
    "last_content_update" : 1488464290,
    "path" : "~/Documents/Github/NICAR/2017/reproducibility-rmarkdown/rmarkdown.Rmd",
    "project_path" : "rmarkdown.Rmd",
    "properties" : {
    },
    "relative_order" : 8,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}